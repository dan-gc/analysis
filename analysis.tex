\documentclass{article}
\usepackage{titlesec}
%Referencias
\usepackage[style=authortitle,backend=bibtex]{biblatex}
\addbibresource{analysis.bib}

%Paquetes
\usepackage[left=4cm, right=4cm]{geometry}
\usepackage{palatino}%Fuente
\usepackage{graphicx}%Imágenes
\usepackage{float}%Imágenes
\usepackage{subcaption}%Imágenes
\usepackage{enumitem}%Listas
\usepackage{parskip}%Espacio entre párrafos
\usepackage{multicol}
\usepackage{amsthm,thmtools,xcolor}
\usepackage{amssymb}%Mate
\usepackage{amsmath}%Mate
\usepackage{tikz}%Mate (diagramas)
\usepackage{dutchcal}
\usepackage{tikz-cd}
\usepackage{xcolor}
\definecolor{blue-violet}{rgb}{0.54, 0.17, 0.89}
\usetikzlibrary{%
	matrix,%
	calc,%
	arrows,%
	shapes,
	decorations.markings
}
\usepackage[bookmarks,bookmarksopen,bookmarksdepth=3]{hyperref}%Links a lugares en el texto
\hypersetup{%colores
	colorlinks=true,
	urlcolor=blue,
	linkcolor=magenta,
	citecolor=blue,
	filecolor=blue,
	urlbordercolor=white,
	linkbordercolor=white,
	citebordercolor=white,
	filebordercolor=white
}
\usepackage{cleveref}


%Referencias
%\usepackage[style=authortitle,backend=bibtex]{biblatex}
%\addbibresource{analysis.bib}

\definecolor{blue-violet}{rgb}{0.54, 0.17, 0.89}
\definecolor{azure}{rgb}{0.0, 0.5, 1.0}
\definecolor{green(ncs)}{rgb}{0.0, 0.62, 0.42}
\definecolor{forestgreen}{rgb}{0.13, 0.55, 0.13}
\definecolor{limegreen}{rgb}{0.2, 0.8, 0.2}
\definecolor{palatinateblue}{rgb}{0.15, 0.23, 0.89}
\definecolor{trueblue}{rgb}{0.0, 0.45, 0.81}
\definecolor{goldenyellow}{rgb}{1.0, 0.87, 0.0}
\definecolor{fashionfuchsia}{rgb}{0.96, 0.0, 0.63}
\definecolor{brightcerulean}{rgb}{0.11, 0.67, 0.84}
\definecolor{jonquil}{rgb}{0.98, 0.85, 0.37}
\definecolor{lavendermagenta}{rgb}{0.93, 0.51, 0.93}
\definecolor{peru}{rgb}{0.8, 0.52, 0.25}
\definecolor{persimmon}{rgb}{0.93, 0.35, 0.0}
\definecolor{persianred}{rgb}{0.8, 0.2, 0.2}
\definecolor{persianblue}{rgb}{0.11, 0.22, 0.73}
\definecolor{persiangreen}{rgb}{0.0, 0.65, 0.58}
\definecolor{persianyellow}{rgb}{0.9, 0.89, 0.0}

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]

\declaretheoremstyle[headfont=\color{trueblue}\normalfont\bfseries
%bodyfont=\color{trueblue}
\normalfont,]{colored1}
\declaretheoremstyle[headfont=\color{forestgreen}\normalfont\bfseries,]{colored2}
\declaretheoremstyle[headfont=\color{peru}\normalfont\bfseries,]{colored3}
\declaretheoremstyle[headfont=\color{persiangreen}\normalfont\bfseries,]{colored4}
\declaretheoremstyle[headfont=\color{brightcerulean}\normalfont\bfseries,]{colored5}
\declaretheoremstyle[headfont=\color{lavendermagenta}\normalfont\bfseries,]{colored6}

\declaretheorem[style=colored1,numberwithin=section,name=Theorem]{thm}
\declaretheorem[style=colored2,numberwithin=section,numberlike=thm,name=Proposition]{prop}
\declaretheorem[style=colored3,numberwithin=section,numberlike=thm,name=Lemma]{lemma}
\declaretheorem[style=colored4,numberwithin=section,numberlike=thm,name=Corollary]{coro}
\declaretheorem[style=colored5,numbered=no,name=Example]{example}
\declaretheorem[style=colored5,numbered=no,name=Examples]{examples}
\declaretheorem[style=colored6,numberwithin=section,name=Exercise]{exer}
\declaretheorem[style=colored6,numbered=no,name=Exercise]{exer*}

\newtheorem*{defn}{Definition}
\newtheorem*{remark}{Remark}
\newtheorem{cl}{Claim}
\newtheorem*{question}{question}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\Cinf}{C^\infty}

\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\sen}{sen}
\DeclareMathOperator{\img}{img}
\DeclareMathOperator{\Arg}{Arg}
\DeclareMathOperator{\Id}{Id}
\DeclareMathOperator{\Alt}{Alt}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Hom}{Hom}

\begin{document}
	\begin{center}
		{\LARGE Functional Analysis}

		\href{https://github.com/dan-gc/analysis}{github.com/dan-gc/analysis}
	\end{center}
	These are preparation notes for a course on Functional Analysis at IMPA, summer 2024. They are based on \cite{folland,narici,brezis}.
	\tableofcontents
	\clearpage
	\section{Measure theory}
	{\small \color{blue}A measure should surely satisfy:
	\begin{enumerate}
		\item If $E_1,E_2,\ldots$ is a finite or infinite sequence of disjoint sets,
		\[\mu(E_1\cup E_2\cup\ldots)=\mu(E_1)+\mu(E_2)+\ldots\]
		
		\item If $E$ is congruent to $F$,
		\[\mu(E)=\mu(F)\]
		
		\item If $Q$ is the unit cube,
		\[\mu(Q)=1\]
	\end{enumerate}}
	\subsection{$\sigma$-algebras}
%\begin{itemize}
%	\item \textbf{($\sigma$-algebras.)}
Let $X$ be a nonempty set. 
	
	\begin{itemize}
	\item An \textbf{\textit{algebra of sets}} on $X$ is a nonempty collection $\mathcal{A}$ of subsets of $X$ that is closed under finite unions and complements, that is,
	\begin{enumerate}
		\item If $E_1,\ldots, E_n\in \mathcal{A}$, then $\bigcup_{i=1}^nE_i\in\mathcal{A}$.
		\item If $E\in\mathcal{A}$, then $E^c\in\mathcal{A}$.
	\end{enumerate}
	\item A \textbf{\textit{$\sigma$-algebra}} is an algebra of sets closed under countable unions.
%	\begin{remark}\leavevmode
%		\begin{itemize}
%			\item Algebras ($\sigma$-algebras) are closed under finite (countable) intersections since $\bigcap_jE_j=\left(\bigcup_jE_j^c\right)^c$.
%			
%			\item An algebra is a $\sigma$-algebra provided it is closed under countable disjoint unions.
%		\end{itemize}
%	\end{remark}
		\item The intersection of all $\sigma$-algebras containing any subset $\mathcal{E}\subset \mathcal{P}(X)$ is the \textbf{\textit{$\sigma$-algebra generated by $\mathcal{E}$}}.
		
		\item The $\sigma$-algebra generated by the open sets of a topological (or metric) space $X$ is the \textbf{\textit{Borel algebra $\mathcal{B}_X$}}.
		
		\item Let $\{X_\alpha\}_{\alpha\in A}$ is a collection of nonempty sets, $X=\prod_\alpha X_\alpha$ and $\pi_\alpha:X\to X_\alpha$ the coordinate functions. If $\mathcal{M}_\alpha$ is a $\sigma$-algebra on $X_\alpha$, the \textbf{\textit{product $\sigma$-algebra}} on $X$ is the $\sigma$-algebra generated by
		\[\{\pi_\alpha(E_\alpha):E_\alpha\in\mathcal{M}_\alpha,\alpha\in A\}\]
		We denote this $\sigma$-algebra by $\bigotimes_{\alpha\in A}\mathcal{M}_\alpha$. 
		\begin{prop}
			$\bigotimes_{\alpha\in A}\mathcal{M}_\alpha$ is generated by $\{\prod_{\alpha\in A}E_\alpha:E_\alpha\in\mathcal{M}\}$. 
		\end{prop}
		\begin{prop}
			Let $X_1,\ldots,X_n$ be metric spaces and let $X=\prod_i X_i$ be equiped with the product metric. Then $\bigotimes_i\mathcal{B}_i\subset\mathcal{B}_X$. If every $X_i$ is separable equality holds.
		\end{prop}
		\begin{coro}
			$\mathcal{B}_{\R^n}=\bigotimes_{i=1}^n\mathcal{B}_{\R}$.
		\end{coro}
	\end{itemize}

	\subsection{Measures}
	%\item \textbf{(Measures.)}
	Let $X$ be a set equipped with a $\sigma$-algebra $\mathcal{M}$.
	\begin{itemize}
		\item A \textbf{\textit{measure}} on $\mathcal{M}$ (or on $(X,\mathcal{M})$, or simply on $X$) is a function $\mu:\mathcal{M}\to [0,\infty)$ such that
		\begin{enumerate}
			\item $\mu(\varnothing)$.
			\item if $\{E_j\}_{1}^\infty$ is a sequence of disjoint sets in $\mathcal{M}$, then $\mu\left(\bigcup_{1}^\infty\right)=\sum_1^\infty\mu(E_i)$.
		\end{enumerate}
		\item If $X$ is a set and $\mathcal{M}\subset\mathcal{P}(X)$ is a $\sigma$-algebra, $(X,\mathcal{M})$ is called a \textbf{\textit{measurable space}} and the sets in $\mathcal{M}$ are \textbf{\textit{measurable sets}}. If $\mu$ is a measure on $(X,\mathcal{M})$, then $(X,\mathcal{M},\mu)$ is called a \textbf{\textit{measure space}}.
		\item If $\mu(X)<\infty$ (and hence $\mu(E)<\infty$ for all $E\in\mathcal{M}$), $\mu$ is called \textbf{\textit{$\sigma$-finite}}. If $X=\bigcup_{1}^\infty E_j$, with $\mu(E_j)<\infty$, $\mu$ is called \textbf{\textit{$\sigma$-finite}}. If for every $E\in\mathcal{M}$ with $\mu(E)=\infty$ there exists $F\in\mathcal{M}$ such that $F\subset E$ and $0<\mu(F)<\infty$, $\mu$ is called \textbf{\textit{semifinite}}.
		\begin{thm}[Properties of measure spaces]
			Let $(X,\mathcal{M},\mu)$ be a measure space.
			\begin{enumerate}
				\item \textbf{(Monotonicity.)} If $E,F\in\mathcal{M}$ and $E\subset F$, then $\mu(E)<\mu(F)$.
				\item \textbf{(Subaditivity.)} If $\{E_j\}_{1}^\infty\subset\mathcal{M}$, then $\mu\left(\bigcup_{1}^\infty E_j\right)\leq\sum_1^\infty\mu(E_j)$.
				\item \textbf{(Continuity from below.)} If $\{E_j\}_1^\infty\subset\mathcal{M}$, $E_1\subset E_2\subset\ldots$,\\ then $\mu(\bigcup_1^\infty E_j)=\lim_{j\to\infty}\mu(E_j)$.
					\item \textbf{(Continuity from above.)} If $\{E_j\}_1^\infty\subset\mathcal{M}$, $E_1\supset E_2\supset\ldots$, and $\mu(E_1)<\infty$, then $\mu(\bigcap_1^\infty E_j)=\lim_{j\to\infty}\mu(E_j)$.
				\end{enumerate}
		\end{thm}
		\item If $E\in\mathcal{M}$ and $\mu(E)=0$, $E$ es called a \textbf{\textit{null set}}. If a statement about points in $X$ is true except for points in a null set, we say it is true \textbf{\textit{almost everywhere}}.
		\item If $\mu(E)=0$ and $F\subset E$, then $\mu(F)=0$ \textit{provided $F\in\mathcal{M}$}. A measure whose domain contains all subsets of null sets is \textbf{\textit{complete}}. Completeness may help avoid technical difficulties, and it can always be achieved by enlarging the domain of $\mu$:
		\begin{thm}
			Let $(X,\mathcal{M},\mu)$ be a measure. Let $\mathcal{N}=\{N\in\mathcal{M}:\mu(N)=0\}$ and $\overline{\mathcal{M}}=\{E\cup F:E\in\mathcal{M}\text{ and }F\subset N\text{ for some }N\in\mathcal{N}\}$. Then $\overline{\mathcal{M}}$ is a $\sigma$-algebra, and there is a unique extension $\bar{\mu}$ of $\mu$ to a complete measure on $\overline{\mathcal{M}}$, called the \textbf{\textit{completion of $\mu$}}.
		\end{thm}
		\item Excercises
		\begin{enumerate}
			\item If $\mu_1,\ldots,\mu_n$ are measures on $(X,\mathcal{M})$ and $a_1,\ldots,a_n\in[0,\infty)$, then $\sum_1^\infty a_j\mu_j$ is also a measure on $(X,\mathcal{M})$.
			\item $\mu(E\cup F)=\mu(E)+\mu(F)-\mu(E\cap F)$.
			\item A set $E\subset X$ is called \textbf{\textit{locally measurable}} if $E\cap A\in\mathcal{M}$ whenever $A\in \mathcal{M}$ and $\mu(A)<\infty$. If $\mathcal{M}$ equals the collection of the saturated sets $\tilde{\mathcal{M}}$, it is called \textbf{\textit{saturated}}. The saturated measure $\tilde{\mu}$ on $\tilde{\mathcal{M}}$ defined by $\tilde{\mu}(E)=\mu(E)$ for $E\in \mathcal{M}$ and $\tilde{\mu}(E)=\infty$ otherwise is called the \textbf{\textit{saturation of $\mu$}}.	
		\end{enumerate}
	\end{itemize}
	
	\subsection{Outer measures}
	%\item \textbf{(Outer measures.)} 
	This is used to construct measures. The key idea is to approximate the measure of a set by simpler encosing sets, like with the Riemann integral.
	\begin{itemize}
		\item An \textbf{\textit{outer measure}} on a nonempty set $X$ is a function $\mu^*:\mathcal{P}(X)\to[0,\infty]$ that satisfies
		\begin{enumerate}
			\item $\mu^*(\varnothing)=0$,
			\item $\mu^*(A)\leq\mu^*(B)$ if $A\subset B$, and
			\item $\mu^*\left(\bigcup_{1}^\infty A_j\right)\leq\sum_1^\infty\mu^*(A_j)$.
		\end{enumerate}

	\begin{prop}
		Let $\mathcal{E}\subset\mathcal{P}(X)$ and $\rho:\mathcal{E}\to[0,\infty]$ be such that $\varnothing\in\mathcal{E}$, $X\in\mathcal{E}$ and $\rho{\varnothing}=0$. For any $A\subset X$, define
		\begin{equation}\label{eq:outer-measure}
			\mu^*(A)=\inf\left\{\sum_1^\infty\mu(E_j):E_j\in\mathcal{E}\text{ and }A\subset\bigcup_1^\infty E_j\right\}
		\end{equation}
		then $\mu^*$ is an outer measure.
	\end{prop}
		\item A set $A\subset X$ is called \textbf{\textit{$\mu$-measurable}} if
		\[\mu^*(E)=\mu^*(E\cap A)+\mu^*(E\cap A^c)\quad\text{for all } E\subset X\]
		Which makes sense if we think $E$ is a \textit{well-behaved} set such that $A\subset E$, so that $\mu^*(A)=\mu^*(E)-\mu^*(E\cap A^c)$.
		
		\begin{thm}[Carathèodory]
			If $\mu^*$ is an outer measure on $X$, the collection $\mathcal{M}$ of $\mu^*$-measurable sets is a $\sigma$-algebra, and the restriction of $\mu^*$ to $\mathcal{M}$ is a complete measure.
		\end{thm}
		\item If $\mathcal{A}\subset\mathcal{P}(X)$ is an algebra, the function $\mu_0:\mathcal{A}\to[0,\infty]$ is a \textbf{\textit{premeasure}} if
		\begin{itemize}
			\item $\mu_0(\varnothing)=0$,
			\item If $\{A_j\}_1^\infty$ is a sequence of disjoint sets in $\mathcal{A}$ such that $\bigcup_1^\infty\in\mathcal{A}$, then $\mu_0\left(\bigcup_{1}^\infty A_j\right)=\sum_1^\infty\mu_0(A_j)$.
		\end{itemize}
		\begin{prop}
			If $\mu_0$ is a premeasure on $\mathcal{A}$ and $\mu^*$ is defined by \cref{eq:outer-measure} by taking $\rho=\mu_0$, then
			\begin{enumerate}
				\item $\mu^*|\mathcal{A}=\mu_0$,
				\item every set in $\mathcal{A}$ is $\mu^*$ measureable.
			\end{enumerate}
		\end{prop}
		\begin{thm}\label{thm:1.8}
			Let $\mathcal{A}\subset\mathcal{P}(X)$ be an algebra, $\mu_0$ a premeasure on $\mathcal{A}$ and $\mathcal{M}$ the $\sigma$-algebra generated by $\mathcal{A}$. There exists a measure $\mu$ on $\mathcal{M}$ whose restriction to $\mathcal{A}$ is $\mu_0$---namely $\mu=\mu^*|\mathcal{M}$, where $\mu^*$ is given by \cref{eq:outer-measure}. (This is a consequence of Carathédory's theorem and the last proposition.)
			
			If $\nu$ is another measure on $\mathcal{M}$ that extends $\mu_0$, then $\nu(E)\leq\mu(E)$ for all $E\in\mathcal{M}$ with equality when $\mu(E)<\infty$. If $\mu_0$ is $\sigma$-finite, then $\mu$ is the unique estension of $\mu_0$ to a measure on $\mathcal{M}$.
		\end{thm}
		\item A \textbf{\textit{Borel measure on $\R$}} is a measure on $\R$ whose domain is the Borel $\sigma$-algebra $\mathcal{B}_\R$.
		\begin{prop}
			Let $F:\R\to\R$ be increasing and right continuous. If $(a_j,b_j]$, $j=1,\ldots,n$ are disjoint \textbf{\textit{half-open intervals}}, so that $0\leq a_j,b_j\leq\infty$, or $(a_j,\infty)$, or they are empty, define
			\[\mu_0\left(\bigcup_{1}^n(a_j,b_j]\right)=\sum_1^n[F(b_j)-F(a_j)]\]
			and let $\mu_0(\varnothing)=0$. Then $\mu_0$ is a premeasure on the algebra $\mathcal{A}$ of finite disjoint unions of half-open intervals.
		\end{prop}
		\begin{thm}
			If $F:\R\to\R$ is any increasing, right continuous function, there is a unique Borel measure $\mu_F$ on $\R$ such that $\mu_F((a,b])=F(b)-F(a)$ $\forall a,b$.
			
			If $G$ is another such function, $\mu_F=\mu_G$ if and only if $F-G$ is constant. Conversely, given a $\mu$ Borel measure on $\R$ that is finite on all bounded Borel sets we may define an increasing right continuous function $F$ such that $\mu=\mu_F$.
		\end{thm}
		\item By \cref{thm:1.8}, there is a complete measure $\bar{\mu}_F$ whose domain includes $\mathcal{B}_\R$. In fact $\bar{\mu}_F$ is the completion of $\mu_F$ and its domain is strictly larger than $\mathcal{B}_\R$. This complete measure is called the \textbf{\textit{Lebesgue-Stieltjes measure}} and is also denoted by $\mu_F$.
		
		In the following $\mu$ is the Lebesgue-Stieltjes meause associated to some increasing, right-continuous function $F$, and $\mathcal{M}_\mu$ is the domain of $\mu$. 
		\begin{thm}
			If $E\in\mathcal{M}_\mu$, then
			\begin{align*}
				\mu(E)&=\inf\{\mu(U):E\subseteq U \text{ and }U \text{ is open}\}\\
				&=\sup\{\mu(K):K\subseteq E \text{ and }K \text{ is compact}\}
			\end{align*}
		\end{thm}
		\begin{thm}
			If $E\subset \R$, the following are equivalent:
			\begin{enumerate}
				\item $E\in\mathcal{M}_\mu$.
				\item $E=V\backslash N_1$ where $V$ is a $G_\delta$ (countable intersection of open sets) and $\mu(N_1)=0$.
				\item $E=H\cup N_2$ where $H$ is an $F_\sigma$ (countable union of closed sets) set and $\mu(N_2)=0$.
			\end{enumerate}
		\end{thm}
		\begin{prop}
			If $E\in\mathcal{M}_\mu$ and $\mu(E)<\infty$, then for every $\varepsilon>0$, there is a set $A$ that is a finite union of open intervals such that $\mu(E\triangle A)<\varepsilon$.
		\end{prop}
		\item The \textbf{\textit{Lebesgue measure}} is the Lebesgue-Stieltjes measure of $F(x)=x$. We denote it by $m$ and its domain by $\mathcal{L}$.
		\begin{thm}
			Is $E\in\mathcal{L}$, then $E+s\in\mathcal{L}$ and $rE\in\mathcal{L}$ for all $s,r\in\R$. Moreover, $m(E+s)=m(E)$ and $m(rE)=|r|m(E)$.
		\end{thm}
		\begin{prop}
			Let $C$ be the Cantor set. $C$ is compact, nowhere dense and totally disconnected (ie. the only connected subsets of $C$ are single points). $C$ has no isolated points. $m(C)=0$. $\operatorname{card}(C)=\mathfrak{c}$.
		\end{prop}
		\end{itemize}

		\subsection{Integration}
		%\item \textbf{(Integration.)} 
		Now we construct integrals from simple funtions.
		
		\begin{itemize}
			\item \textbf{(Measurable maps.)} Recall that a mapping $f:X\to Y$ between two sets induces a mapping $f^{-1}:\mathcal{P}(Y)\to\mathcal{P}X$ defined by the inverse image, which preserves unions, intersection and complements, so that if $\mathcal{N}$ is a $\sigma$-algebra on $Y$, then $\{f^{-1}(E):E\in\mathcal{N}\}$ is a $\sigma$-algebra on $X$.
			
			If $(X,\mathcal{M})$ and $(Y,\mathcal{N})$ are measureable spaces, a mapping $f:X\to Y$ is called \textbf{\textit{measurable}} if $f^{-1}(E)\in\mathcal{M}$ for all $E\in\mathcal{N}$.
			
			\begin{prop}
				A function whose codomain is a product measure space is measurable if precomposing with every projection is measurable.
			\end{prop}
			\begin{coro}
				A function $f:X\to\C$ is $\mathcal{M}$-measurable if and only if $\operatorname{Re} f$ and $\operatorname{Im} f$ are $\mathcal{M}$-measurable.
			\end{coro}
			
			\begin{prop}
				If $\mathcal{N}$ is generated by $\mathcal{E}$, then $f:X\to Y$ is measurable if and only if $f^{-1}(E)\in\mathcal{M}$ for all $E\in\mathcal{E}$.
			\end{prop}
			\begin{coro}
				If $X$ and $Y$ are metric (or topological spaces), every continuous function is $(\mathcal{B}_X,\mathcal{B}_Y)$-measurable.
			\end{coro}
			
			\begin{prop}
				If $f,g:X\to\C$ are $\mathcal{M}$-measurable, then so are $f+g$ and $fg$.
			\end{prop}
			\begin{prop}
				If $\{f_j\}$ is a sequence of $\overline{\R}$-valued measurable functions on $(X,\mathcal{M})$, then the functions
				\begin{align*}
					\begin{aligned}
						\sup_jf_j(x)\\
						\inf_jf_j(x)
					\end{aligned}\qquad
					\begin{aligned}
						\limsup_{j\to\infty}f_j(x)\\
						\liminf_{j\to\infty}f_j(x)
					\end{aligned}
				\end{align*}
				are measurable. If
				\[f(x)=\lim_{j\to\infty}f_j(x)\]
				exists for every $x\in X$, then $f$ is measurable.
			\end{prop}
			\begin{coro}\label{coro:1.23}
				If $f,g:X\to\overline{\R}$ is measurable, then so are $\max(f,g)$ and $\min(f,g)$.
			\end{coro}
			If $f:X\to\overline{\R}$ we define de \textbf{\textit{positive}} and \textbf{\textit{negative}} parts of $f$ as:
			\[f^+(x)=\max(f(x),0)\qquad\qquad f^-(x)\max(-f(x),0)\]
			Then $f=f^+-f^-$, and if $f$ is measurable, so are $f^+$ and $f^-$ by \cref{coro:1.23}.
			
		\item Let $(X,\mathcal{M})$ be a measurable space. If $E\subset X$, the \textbf{\textit{characteristic or indicator function $\chi_E$ of $E$}} is
		\[\chi(x)=\begin{cases}
			1\quad&\text{if }x\in E\\
			0\quad&\text{if }x\notin E
		\end{cases}\]
		
		A \textbf{\textit{simple function}} is . The \textbf{\textit{integral of a simple function}} is . The \textbf{\textit{integral of a measurable function}} .
		\begin{thm}[Monotone convergence]
			content...
		\end{thm}
		\begin{thm}[Dominated convergence]
			content...
		\end{thm}
		\begin{prop}[Aditivity of the integral]
			content...
		\end{prop}
		\item The \textbf{\textit{Lebesgue integral}} is the integral we have developed then the measure is the Lebesgue measure.
		\begin{thm}[Fubini-Tonelli]\leavevmode
			\begin{enumerate}
				\item \[\int fd(\mu\times\nu)=\int\left(\int f(x,y)d\nu(y)\right)d\mu(x)=\int\left(\int f(x,y)d\mu(x)\right)d\nu(y)\]
				\item 
			\end{enumerate}
		\end{thm}
		\begin{thm}[2.44]
			\[\int \int f(x)dx=|\det T|\int f\circ T(x)dx\]
		\end{thm}
		\begin{thm}[2.47, diffeomorphisms]
			content...
		\end{thm}

		\end{itemize}
%		\end{itemize}

\clearpage

\section{Point set topology}
	 \subsection{Metric spaces} A \textbf{\textit{metric}} on a set $X$ is a function $\rho:X\times X\to [0,\infty)$ such that
	\begin{enumerate}
		\item $\rho(x,x)=0$ if and only if $x=0$.
		\item $\rho(x,y)=\rho(y,x)$ for all $x,y\in X$.
		\item $d(x,z)\leq d(x,y)+d(y,z)$ for all $x,y,z\in X$.
	\end{enumerate}
	Two metrics $\rho_1$ and $\rho_2$ on a set $X$ are \textbf{\textit{equivalent}} if $C\rho_1\leq\rho_2\leq C'\rho_2$ for some $C,C'>0$.
	
	\begin{thm}Let $(X,d)$ and $(Y,d')$ be metric spaces. If $f:X\to Y$, the following are equivalent conditions for $f$ to be \textbf{\textit{continuous}}:
		\begin{enumerate}
			\item $\forall x\in X\forall\varepsilon>0\exists\delta>0:f(B_\delta(x))\subseteq B_\varepsilon(f(x))$
			\item $\forall x\in X\forall x_n\to x:f(x_n)\to f(x)$.
			\item $\forall F\subseteq Y$ open, $f^{-1}(F)$ is open.
			\item $\forall F\subseteq Y$ closed, $f^{-1}(F)$ is closed.
		\end{enumerate}
	\end{thm}
	If $f:(X,\rho)\to(Y,\rho')$ is such that
	\[\forall\varepsilon>0\exists\delta>0\forall x\in X:f(B_\delta(x))\subseteq B_\varepsilon(f(x))\]
	we say $f$ is \textbf{\textit{uniformly continuous}}.
	\begin{exer*}
		If $(Y,\rho')$ is complete and $f:A\to Y$ is uniformly continuous on $A\subset X$ and $\overline{A}=X$, then $f$ has a unique continuous extension $g:X\to Y$ which is uniformly continuous on $X$. Show that this is not true in general if $Y$ is not complete.
	\end{exer*}
	If $f:(X,\rho)\to(Y,\rho')$ is a bijective function such that for any $x,y\in X$, $\rho(x,y)=\rho'(f(x),f(y))$ we say $f$ is an \textbf{\textit{isometry}} and the two spaces are \textbf{\textit{isometric}}. A function $f:(X,\rho)\to (X,\rho)$ is a \textbf{\textit{contraction}} if there exists a $0<a<1$ such that $\rho(f(x),f(y))\leq a\rho(x,y)$ for any $x,y\in X$. Every contraction is continuous, and if $X$ is complete then any contraction has a unique fixed point.
	
	A sequence $\{x_n\}$ in $X$ \textbf{\textit{converges}} to $x$ if $\lim_{n\to\infty}\rho(x_n,x)=0$. A sequence $\{x_n\}$ in $X$ is called \textbf{\textit{Cauchy}} if $\lim_{n,m\to\infty}\rho(x_n,x_m)=0$, that is
	
	\[\forall\varepsilon>0\exists N\in\N\forall n,m>N:\rho(x_n,x_m)<\varepsilon.\]
	
	A subset $E\subseteq X$ is \textbf{\textit{complete}} if every Cauchy sequence in $E$ converges to its limit in $E$. If $(X,\rho)$ and $(X^*,\rho^*)$ are metric spaces and
	\begin{enumerate}
		\item $(X,\rho)$ is isometric to a subspace $(X,\rho^*)$ of $(X^*,\rho^*)$,
		\item The closure of $X_0$ is all of $X^*$ ($X_0$ is \textbf{\textit{everywhere dense}} or simply \textbf{\textit{dense}}),
	\end{enumerate}
	we say $(X^*,\rho^*)$ is the \textbf{\textit{completion}} of $(X,\rho)$.
	\begin{thm}
		Every metric space $(X,\rho)$ has a completion $(X^*,\rho^*)$. If $(X^{**},\rho^{**})$ is also a completion of $(X,\rho^*)$, then $(X^*,\rho^*)$ is isometric to $(X^{**},\rho^{**})$; that is, the completion of a space is unique up to isometry.
	\end{thm}
	\begin{proof}
		Consider equivalence classes of Cauchy sequences.
	\end{proof}
	
	\begin{prop}
		A closed subset of a metric space is complete, and a complete subset of an arbitrary metric space is closed.
	\end{prop}
	
	\begin{thm}
		If $E$ is a subset of a metric space $(X,\rho)$, the following are equivalent:
		\begin{enumerate}
			\item $E$ is complete and \textbf{\textit{totally bounded}} (it can be covered by finitely many balls of radius $\varepsilon$).
			\item \textbf{(Bolzano-Wierstrass Property.)} Every sequence in $E$ has a subsequence that converges to a point in $E$.
			\item \textbf{(Heine-Borel Property)} If $\{V_\alpha\}_{\alpha\in A}$ is an open cover of $E$, then there is a finite subset $F\subseteq A$ such that $\{V_\alpha\}_{\alpha\in F}$ covers $E$.
		\end{enumerate}
		A set that satsifies any of these condition
		s is called \textbf{\textit{compact}}.
	\end{thm}
	\begin{thm}
		If $(X,\rho)$ is a metric space and $A$ is compact, then $A$ is closed and bounded.
	\end{thm}
	If $(X,\rho)$ is a metric space, $A\subseteq X$ is \textbf{\textit{relatively compact}} if $\overline{A}$ is compact. If $\varepsilon>0$, a subset $N\subset X$ is an \textbf{\textit{$\varepsilon$-net with respect to $A$}} if $\forall x\in A\exists n\in N:\rho(x,n)<\varepsilon$. $A$ is \textbf{\textit{totally boundad}} if for any $\varepsilon>0$ there exists a finite $\varepsilon$-net with respect to $A$.
	
	\begin{thm}
		Let $(X,\rho)$ be a metric space and $A\subseteq X$. If for every sequence of points from $A$ one can select a convergente subsequence, then $A$ is totally bounded.
	\end{thm}
	A set $A$ is \textbf{\textit{countably compact}} if every infinite subset of $A$ has a limit point in $A$. All compact sets are countably compact. $A$ is \textbf{\textit{sequentially compact}} if every sequence in $A$ has a subsequence that converges to a point in $A$. In a metric space, compactness is equivalent to countable and sequential compactness.
	
	\begin{thm} Let $(X,\rho)$ be a metric space and $A\subseteq X$.
		\begin{enumerate}
			\item $A$ is relatively compact if and only if a convergent subsequence can be selected from every sequence of points in $A$. (We do not claim that the limit point is a member of $A$.)
			\item If $A$ is relatively compact, it is also totally bounded.
			\item If $(X,\rho)$ is complete and $A$ is totally bounded, then $A$ is relatively compact.
			\item If $A$ is compact then $A$ is closed and totally bounded.
		\end{enumerate}
	\end{thm}
	
	\subsection{Topological spaces} If $\tau_1$ and $\tau_2$ are two topologies on a set $X$, we say $\tau_1$ is \textbf{\textit{weaker}} (or \textbf{\textit{coarser}}) and $\tau_2$ \textbf{\textit{stronger}} (or \textbf{\textit{finer}}). $E\subseteq X$ is called \textbf{\textit{dense}} if $\overline{E}=X$ and \textbf{\textit{nowhere dense}} if $\overline{E}$ has empty interior. $X$ is called \textbf{\textit{separable}} if it has a countable dense subset. 
	
	\begin{enumerate}
		\item[$\operatorname{T}_0$] If $x\neq y$, there is an open set containing $x$ but not $y$, or an open set containing $y$ but not $x$.
		\item[$\operatorname{T}_1$] If $x\neq y$, there is an open set containint $y$ but not $x$. Equivalently, $\{x\}$ is closed for every $x\in X$.
		\item[$\operatorname{T}_2$] \textbf{(Hausdorff.)} If $x\neq y$ there are disjoint open sets $U$ and $V$ such that $x\in U$ and $y\in V$.
		\item[$\operatorname{T}_3$] \textbf{(Regular.)} $X$ is $\operatorname{T}_1$ and for any closed set $A\subset X$ and any $x\in A^c$ there are disjoint open sets $U,V$ with $x\in U$ and $a\subseteq V$.
		\item[$\operatorname{T}_{3\frac{1}{2}}$] \textbf{(Tychonoff, Completely regular.)} $X$ is $\operatorname{T}_1$ and for each closed $A\subseteq X$ and each $x\notin A$ there exists $f\in C(X,[0,1])$ such that $f(x)=1$ and $f=0$ on $A$.
		\item[$\operatorname{T}_4$] \textbf{(Normal.)} $X$ is $T_1$ and for any disjoint closed sets $A,B$ in $X$ there are disjoint open sets $U,V$ with $A\subseteq U$ and $B\subseteq V$.
	\end{enumerate}
	
	If $X$ is any set and $\{f_\alpha:X\to Y_\alpha\}_{\alpha\in A}$ is a family of maps from $X$ into some topological spaces $Y_\alpha$, there is a unique weakest topology $\tau$ on $X$ that makes all the $f_\alpha$ continuous called the \textbf{\textit{weak topology generated by $\{f_\alpha\}_{\alpha\in A}$}}. An example of this topology is the \textbf{\textit{product topology}} on $X=\prod_{\alpha\in A}X_\alpha$ with the projections.
	
	\begin{prop}\leavevmode
		\begin{itemize}
			\item If $X_\alpha$ is Hausdorff for each $\alpha\in A$ then $X=\prod_{\alpha\in A}$ is Hausdorff.
			\item If $X_\alpha$ and $Y$ are topological spaces, a function $f:Y\to X=\prod_{\alpha\in A}X_\alpha$ is continuous if and only iff $\pi_\alpha\circ f$ is continuous for each $\alpha$.
			\item If $X$ is a topological space, $A$ is a nonempty set and $\{f_n\}$ is a sequence in $X^A$, then $f_n\to f$ in the product topology if and only if $f_n\to f$ pointwise.
		\end{itemize}
	\end{prop}
	
	If $X$ is any set and $K=\R$ or $\C$, denote by $B(X,K)$ the \textbf{\textit{set of bounded $K$-valued functions on $X$}}, $C(X,K)$ the set of \textbf{\textit{continuous $K$-valued functions on $X$}}, and $BC(X,K)$ the \textbf{\textit{set of bounded continuous functions on $X$}}. If no field is specified we take it to be $\C$.
	
	For $f\in B(X)$ define the \textbf{\textit{uniform norm}} of $f$ to be
	\[\Vert f\Vert_u=\sup\{|f(x)|:x\in X\}\]
	Then the function $\rho(f,g)=|Vert f-g|Vert_u$ is a metric on $B(X)$. Convergence in this metric is simply uniform convergence:
	\[\{f_n\}\overset{u}{to}f\iff\forall\varepsilon>0\exists N\in\N\forall n>N\forall x\in X:|f_n(x)-f(x)|<\varepsilon\]
	$B(X)$ is complete with this metric since $\C$ is complete.
	
	\begin{prop}
		If $X$ is a topological space, $BC(X)$ is a closed subspace of $B(X)$ in the uniform metric; in particular $BC(X)$ is complete.
	\end{prop}
	\begin{lemma}[Urysohn]
		Let $X$ be a normal space. If $A$ and $B$ are disjoint closed sets in $X$, there exists $f\in C(X,[0,1])$ such that $f=0$ on $A$ and $f=1$ on $B$.
	\end{lemma}
	\begin{thm}[Tietze Extension Theorem]
		Let $X$ be a normal space. If $A$ is a closed subset of $X$ and $f\in C(A,[a,b])$, there exists $F\in C(X,[a,b])$ such that $F|A=f$.
	\end{thm}
	\begin{coro}
		If $X$ is normal, $A\subseteq X$ is closed and $f\in C(A)$, there exists $F\in C(X)$ such that $F|A=f$.
	\end{coro}
	Urysohn's lemma shows that every $\operatorname{T}_4$ space is completely regular ($\operatorname{T}_{3\frac{1}{2}}$).
	\begin{thm}[Dugundji]
		Sea $X$ un espacio metrizable, $A=\bar{A}\subset X$ y $L$ un espacio vectorial localmente convexo, y $V\subset L$ convexo. Entonces cualquier función $f:A\to V$ admite una extensión $F$.
		\[\begin{tikzcd}
			A\arrow[r,"f"]\arrow[hook,d]&V\\
			X\arrow[ur,dashed,"F",swap]
		\end{tikzcd}\]
		Además $\img F\subset\operatorname{conv}\img F$.
	\end{thm}
	
		\subsection{Compact spaces}
	
		A topological space $X$ is called \textbf{\textit{compact}} if whenever $\{U_\alpha\}_{\alpha\in A}$ is an open cover of $X$ there is a finite subset $B$ of $A$ such that $X=\bigcup_{\alpha\in B}U_\alpha$. A subset $Y\subseteq X$ is called \textbf{\textit{compact}} if it is compact in the relative topology and \textbf{\textit{precompact}} if its closure is compact.
		
		A family $\{F_\alpha\}_{\alpha\in A}$ of subsets of $X$ has the \textbf{\textit{finite intersection property}} if $\bigcap_{\alpha\in B}F_\alpha\neq\varnothing$ for all finite $B\subseteq A$.
		
		\begin{prop}\leavevmode
			\begin{itemize}
				\item A topological space $X$ is compact if and only if for every family $\{F_\alpha\}_{\alpha\in A}$ of closed sets with the finite intersection property, $\bigcap_{\alpha\in A}F_\alpha\neq\varnothing$.
				\item A closed subset of a compact space is compact.
				\item If $K$ is a compact subset of a Hausdorff space $X$ and $x\notin K$ then there are disjoint open sets $U,V$ such that $x\in U$ and $K\subseteq V$.
				\item Every compact subset of a Hausdorff space is closed.
				\item Every compact Hausdorff space is normal.
				\item If $X$ is compact and $f:X\to Y$ is continuous then $f(X)$ is compact.
				\item If $X$ is compact, then $C(X)=BC(X)$.
				\item If $X$ is compact and $Y$ is Hausdorff, then any continuous bijection $f:X\to Y$ is an homeomorphism.
			\end{itemize}
		\end{prop}
		A topological space $X$ is \textbf{\textit{countably compact}} if every countable open cover of $X$ has a finite subcover, and \textbf{\textit{sequentially compact}} if every sequence in $X$ has a convergent subsequence. For metric spaces compactness and sequential compactness are the equivalent. There exists no general relation between compactness and sequential compactness.
		
		\subsection{Locally Compact Hausdorff spaces}
		
		A topological space is called \textbf{\textit{locally compact}} if every point has a compact neighbourhood (a set $A\subset X$ such that $x\in A^o$). We call locally compact Hausdorff spaces \textbf{\textit{LCH}} for short.
		\begin{prop}Let $X$ be a LCH space.
			\begin{itemize}
				\item If $U\subseteq X$ is open and $x\in U$, there is a compact neighbourhood $K$ of $x$ such that $K\subset U$.
				\item If $K\subseteq U\subseteq X$, with $K$ compact and $U$ open, there exists a precompact open $V$ such that $K\subseteq V\subset \overline{V}\subset U$.
				\item \textbf{(Urysohn's Lemma, Locally Compact Version.)} If $K\subset U\subseteq X$, there exists $f\in C(X,[0,1])$ such that $f=1$ on $K$ and $f=0$ outside a compact subset of $U$.
				\item Every LCH space is completely regular.
				\item \textbf{(Tietze Extension Theorem, Locally Compact Version)} If $K\subseteq X$ is compact and $f\in C(K)$, there exists $F\in C(X)$ such that $F|K=f$. $F$ may be taken to vanish outside a compact set.	
			\end{itemize}
		\end{prop}
		 If $f\in C(X)$, the \textbf{\textit{support of $f$}} is the closure of $\{x\in X:f(x)\neq0\}$ and denote $C_c(X):=\{f\in C(X):\operatorname{supp}f\text{ is compact}\}$. We say $f$ \textbf{\textit{vanishes at infinity}} if for every $\varepsilon>0$ the set $\{x:|f(x)|\geq\varepsilon\}$ is compact and define $C_0(X):=\{f\in C(X):f\text{ vanishes at infinity}\}$.
		 \begin{prop}
		 	If $X$ is an LCH space, $C_0(X)$ is the closure of $C_c(X)$ in the uniform metric.
		 \end{prop}
		 If $X$ is a topological space, there are many ways of topologizing $\C^X$. One way is the product topology, that is, the topology of pointwise convergence. Another is the \textbf{\textit{topology of uniform convergence}}, which is generated by the sets
		 \[\left\{g\in\C^X:\sup_{x\in X}|g(x)-f(x)|<n^{-1}\right\}\qquad n\in\N,f\in\C^X.\]
		 In view of a previous proposition (cite?), we know $C(X)$ is a closed subset of $\C^X$ with the topology of uniform convergence. Another topology is the \textbf{\textit{topology of uniform convergence on compact sets}}, generated by the sets
			 \[\left\{g\in\C^X:\sup_{x\in K}|g(x)-f(x)|<n^{-1}\right\}\qquad n\in\N,f\in\C^X,K\subseteq X\text{ compact}.\]
		\begin{prop}Let $X$ be an LCH space.
			\begin{itemize}
				\item If $E\subseteq X$, then $E$ is closed if and only if $E\cap K$ is closed for every compact $K\subseteq X$.
				\item $C(X)$ is a closed subspace of $\C^X$ in the topology of uniform convergence on compact sets.
				\item If $\{U_j\}_{j=1}^n$ is an open cover of a compact subset $K$ of $X$, then there is a partition of unity on $K$ subordinate to $\{U_j\}_{j=1}^n$ soncisting of compactly supported functions.
			\end{itemize}
		\end{prop}
		
		\begin{thm}[Urysohn Metrization Theorem]
			Every second countable normal space is metrizable.
		\end{thm}
		
		\subsection{Three compactness theorems}
		
		Recall that if $X=\prod_{\alpha\in A}X_\alpha$, an element $x\in X$ is just a mapping from $A$ to $\bigcup_{\alpha\in A}X_\alpha$, with $x(\alpha)$ the $\alpha$th coordinate of $x$.
		
		\begin{thm}
			If $\{X_\alpha\}_{\alpha\in A}$ is a family of compact topological spaces, then $X=\prod_{\alpha\in A}X_\alpha$ is compact with the produc topology.
		\end{thm}
		Let $X$ be a topological space and $\mathcal{F}\subseteq C(X)$ a family of complex-valued continuous functions on $X$. We say $\mathcal{F}$ is \textbf{\textit{equicontinuous at $x\in X$}} if for every $\varepsilon>0$ there is a neighbourhood $U$ of $x$ such that $|f(x)-f(y)|<\varepsilon$ for all $y\in U$ and all $f\in\mathcal{F}$; and \textbf{\textit{equicontinuous}} if it is equicontinuous at every $x\in X$. Also, $\mathcal{F}$ is \textbf{\textit{pointwise bounded}} if $\{|f(x)|:f\in\mathcal{F}\}$ is bounded for all $x\in X$.
	
		\begin{thm}[Arzelá-Ascoli I]
			Let $X$ be a compact Housdorff space. If $\mathcal{F}$ is an equicontinuous, pointwise bounded subset of $C(X)$, then $\mathcal{F}$ is totally bounded in the uniform metric, and the closure of $\mathcal{F}$ in $C(X)$ is compact.
		\end{thm}
		\begin{thm}[Arzelá-Ascoli II]
			Let $X$ be a locally compact Housdorff space. If $\{f_n\}$ is an equicontinuous, pointwise bounded sequence in $C(X)$, then there exists $f\in C(X)$ and a subsequence of $\{f_n\}$ that converges to $f$ uniformly on compact sets.
		\end{thm}

		\subsection{The Stone-Weierstrass Theorem}
		Recall that the Weierstrass theorem states that any continuous function on a compact interval $[a,b]$ is the uniform limit of polynomials on $[a,b]$. Throughout this subsection, $X$ will denote a compact Hausdorff space, and $C(X)$ is equipped with the uniform metric.
		
		A subset $\mathcal{A}$ of $C(X,\R)$ of $C(X)$ is said to \textbf{\textit{separate points}} if for every $x,y\in X$ with $x\neq y$ there exists $f\in \mathcal{A}$ such that $f(x)\neq f(y)$. $\mathcal{A}$ is called an \textbf{\textit{algebra}} if it is a real (resp. complex) vector subspace of $C(X,\R)$ (resp. $C(X)$) such that $fg\in \mathcal{A}$ whenever $f,g\in\mathcal{A}$. $\mathcal{A}$ is called a \textbf{\textit{lattice}} if $\max (f,g)$ and $\min (f,g)$ are in $\mathcal{A}$ whenever $f,g\in \mathcal{A}$. If $\mathcal{A}$ is an algebra or a lattice, so is its closure in the uniform metric.
		
		\begin{thm}[Stone-Weierstrass Theorem]
			Let $X$ be a compact Hausdorff space. If $\mathcal{A}$ is a closed subalgebra of $C(X,\R)$ that separates points, then either $A=C(X,\R)$ of $\mathcal{A}=\{f\in C(X,\R):f(x_0)=0\}$ for some $x_0\in X$. The first alternative holds if and only if $\mathcal{A}$ contains the constant functions.
		\end{thm}
		\begin{coro}
			Supoose $\mathcal{B}$ is a subalgebra of $C(X,\R)$ that separates points. If there exists $x_0\in X$ such that $f(x_0)=0$ for all $f\in\mathcal{B}$, then $\mathcal{B}$ is dense in $\{f\in C(X,\R):f(x_0)=0\}$. Otherwise, $\mathcal{B}$ is dense in $C(X,\R)$.
		\end{coro}
		The classical Weierstrass approximation theorem is the special case of this corollary where $X$ is the compact subset of $\R^n$ and $\mathcal{B}$ is the algebra of polynomials on $\R^n$ (restricted to $X$); here $\mathcal{B}$ contains the constant functions, so it is dense in $C(X,\R)$.
		
		The Stone-Weirstrass theorem, as stated, is false for complex-valued functions. We may show that $f(z)=\bar{z}$ cannot be approximately uniformly by polynomials on the unit circle.
		
		\begin{thm}[Complex Stone-Weirstrass Theorem]
			Let $X$ be a compact Hausdorff space. If $\mathcal{A}$ is a closed complex subalgebra of $C(X)$ that separates points and is closed under complex conjugation, then either $A=C(X)$ of $\mathcal{A}=\{f\in C(X):f(x_0)=0\}$ for some $x_0\in X$.
		\end{thm}
		Finally, there is a version of the Stone-Weirstrass theorem for noncompact LCH spaces. We state for real functions; the complex analogue is an immediate consequence.
		\begin{thm}[LCH Stone-Weirstrass Theorem]
			Let $X$ be a noncompact LCH space. If $\mathcal{A}$ is a closed complex subalgebra of $C_0(X,\R)$ that separates points, then either $A=C_0(X,\R)$ of $\mathcal{A}=\{f\in C_0(X,\R):f(x_0)=0\}$ for some $x_0\in X$.
		\end{thm}

\clearpage
\section{Inner product spaces}
Let $X$ be a real or complex vector space.
	\subsection{Inner products} An \textbf{\textit{inner product}} on $X$ is a mapping
	\begin{align*}
		\langle-,-\rangle:X\times X\to F
	\end{align*}
	with the following properties:
	\begin{enumerate}
		\item[($\operatorname{I}_1$)] if $x,y\in X$ then $\langle x,y\rangle=\overline{\langle x,y\rangle}$;
		\item[($\operatorname{I}_2$)] if $\alpha,\beta$ are scalars, $\langle\alpha x+\beta y,z\rangle =\alpha\langle x,z\rangle+\beta\langle y,z\rangle$;
		\item[($\operatorname{I}_3$)] $\langle x,x\rangle\geq0$ for all $x\in X$ and equal to zero if and only if $x$ is the zero vector. (Since, by $\operatorname{I}_1$, $\langle x,x\rangle$ must be real.)
	\end{enumerate}
	\begin{examples}\leavevmode
		\begin{enumerate}
			\item Let $X=C[a,b]$ be complex-valued continuous functions on the closed interval $[a,b]$ with pointwise addition and scalar product. As the inner product of any two vectors $f$ and $g$ in this space take
		\[\langle f,g\rangle=\int_a^bf(x)\overline{g(x)}dx\]
		\item Let $X=l_2$, the set of all sequences of complex numbers $(a_1,a_2,\ldots)$ with the property that $\sum_{i=1}^\infty|a_i|^2<\infty$. As the inner product of any two vectors $x=(a_i)$ and $y=(b_i)$ in this space take
		\[\langle f,g\rangle=\sum_{i=1}^\infty a_i\overline{b}_i\]
		which converges by the Hölder inequality.
		
		\item Let $Y$ be the closed interval $[a,b]$, $S$ the Lebesgue measurable sets and $\mu$ the Lebesgue measure. Then, for the equivalence clasess of square-integrable functions (complex-valued) on $[a,b]$ we can take as the inner product of two clases $f$ and $g$,
				\[\langle f,g\rangle=\int_a^bf(x)\overline{g(x)}dx\]
		where the integral is the Lebesgue integral. This space is denoted by $L_2(a,b)$.
		\end{enumerate}
		\end{examples}
		\begin{thm}[Cauchy-Schwarz inequality]
			Let $X$ be an inner product space and let $x,y\in X$. Then
			\[|\langle x,y\rangle\leq\Vert x\Vert\Vert y\Vert\]
			with equality holding if and only if $x$ and $y$ are linearly independent.
		\end{thm}
		\subsection{Orthogonal projections} Two vectors $x,y\in X$ are \textbf{\textit{orthogonal}} if $\langle x,y\rangle=0$.
		\begin{examples}\leavevmode
	\begin{enumerate}
		\item In $L_2(–\pi,\pi)$, the collection (or any subset thereof)
			\[x_n=\frac{1}{\sqrt{2\pi}}e^{int},\qquad n=0,\pm1,\ldots\]
			is an orthonormal set of vectors.
			\begin{proof}
				For any $n\in\Z$,
				\[\int_{-\pi}^\pi x_n\overline{x}_ndt=\frac{1}{2\pi}\int_{-\pi}^\pi e^{int}\overline{e^{int}}dt=\frac{1}{2\pi}\int_{-\pi}^\pi \Vert e^{int}\Vert^2dt=1,\]
				and if $m$ is another integer,
				\[\int_{-\pi}^\pi x_n\overline{x}_mdt=\frac{1}{2\pi}\int_{-\pi}^\pi e^{int}\overline{e^{imt}}dt=\frac{1}{2\pi}\int_{-\pi}^\pi e^{(n-m)it}dt=\frac{1}{2\pi}\left[\frac{e^{(n-m)it}}{(n-m)i}\right]_{-\pi}^\pi=0.\]
			\end{proof}
			\item If we restric out attention to only real-valued functions that are square-integrable on the interval $[-\pi,\pi]$, then the collection (or any subset thereof)
			\begin{align*}
				\frac{1}{\sqrt{2\pi}},&\frac{1}{\sqrt{\pi}}\cos t,\frac{1}{\sqrt{\pi}}\cos 2t,\ldots\\
				&\frac{1}{\sqrt{\pi}}\sin t,\frac{1}{\sqrt{\pi}}\sin 2t,\ldots
			\end{align*}
			is an orthonormal set.
		\end{enumerate}
		\end{examples}
		\begin{thm}
			If $S$ is an orthonoromal subset of an inner product space, then it is linearly independent (where linear independence is defined as finite sums).
		\end{thm}
		\begin{thm}[Gram-Schmidt process]
			Let $X$ be an inner product space. If $\{y_1,y_2,\ldots\}$ is a linearly independent set of vectors, then there exists an orthonormal set of vectors $\{x_1,x_2,\ldots\}$ such that, for any $n$,
			\[\langle y_1,y_2,\ldots,y_n\rangle=\langle x_1,x_2,\ldots,x_n\rangle\]
			where the brackets indicate the subspace spanned by the vectores enclosed.
		\end{thm}
		If $S$ is any subset of $X$, the \textbf{\textit{orthogonal complement of $S$ in $X$}} is the linear space $S^\perp:=\{x\in X:x\perp s\text{ for all }s\in S\}$.
		\begin{thm}
			If $M$ is a finite-dimensional subspace of $X$, then $X=M\oplus M^\perp$.
		\end{thm}
		\subsection{Riesz representation theorem}
	 \begin{thm}[Riesz]
		If $X$ is a finite-dimensional inner product space and $f$ is a linear functional on $X$, then there exists a unique vector $y\in X$ such that $f(x)=\langle x,y\rangle for all x\in X$.
	\end{thm}
	\begin{proof}
		Given an orthonormal basis $e_i$ of $X$, consider $y=\sum_i\overline{f(e_i)}e_i$.
	\end{proof}
	{\color{blue-violet}In Riemannian geometry this is called \textbf{\textit{raising an index}} of a 1-form. Indeed, $\omega_p\in\Lambda^1(T_pM)$ is just a linear functional on $T_pM$, and $(\omega)^\sharp=g^{ij}\omega_{j}E_i$ at $p$ is just a vector $y$ such that $\omega_p(x)=\langle x,y\rangle$ for all $x\in T_pM$. So the former theorem may also be stated as ``$y=f^\sharp$ exists". Recall this is given by viewing the inner product as a nonsingular matrix.}
	
	\subsection{Adjoint operator}
	 Let $A:X\to X$ be a linear transformation in a finite-dimensional inner product space $X$. For a given $y\in X$, define the linear functional
	\begin{align*}
		f^y:X&\to F\\
		x&\mapsto\langle Ax,y\rangle
	\end{align*}
	which, by the Riesz representation theorem yields a unique $z\in X$ such that
	\[f^y(x)=\langle x,z\rangle\]
	Then the \textbf{\textit{adjoint of $A$}} is the linear map
	\begin{align*}
		A^*:X&\to X\\
		y&\mapsto z
	\end{align*}
	so that $\langle Ax,y\rangle=\langle x,A^*y\rangle$.
	\begin{prop}[Properties of the adjoint]\leavevmode
		\begin{enumerate}
			\item $(\alpha A)^*=\overline{\alpha}A^*$.
			\item $(A+B)^*=A^*+B^*$.
			\item $(AB)^*=B^*A^*$.
			\item $(A^*)^*=A$.
		\end{enumerate}
	\end{prop}
	If $A=A^*$ we say $A$ is \textbf{\textit{self-adjoint}}, and if $AA^*=A^*A$ we say $A$ is \textbf{\textit{normal}}.
	\begin{thm}
		If $A$ is self-adjoint, its eigenvalues are real. Eigenvectors associated to distinct eigenvalues of a self-adjoint operator are orthogonal.
	\end{thm}
	\begin{thm}
		If $M$ is an invariant subspace of $X$ under $A$, then $M^\perp$ is invariant under $A^*$.
	\end{thm}
	\begin{thm}
		If $A$ is a linear transformation on a finite-dimensional inner product space $X$, then $\operatorname{range} (A)^\perp=\operatorname{null}(A^*)$.
	\end{thm}
	
	\subsection{Spectral theorem for normal transofmrations}
	\begin{thm}
		Let $A$ be a self-adjoint transformation in a finite-dimensional inner product space $X$. Then there exists an orthonormal basis of $X$ consistinf of eigenvectors of $A$.
	\end{thm}
	\begin{lemma}
		Let $A$ be a normal transformation in a finite-dimensional inner product space $X$. Then $\Vert Ax\Vert=\Vert A^*x\Vert$ for all $x\in X$.
	\end{lemma}
	\begin{thm}
		Let $A$ be a normal transformation in a complex finite-dimensional inner product space $X$. Then there exists an orthonormal basis of $X$ consistinf of eigenvectors of $A$.
	\end{thm}
	\begin{thm}
		If $A$ is a normal transformation on a finite-dimensional inner product space. Eigenvectors associated to distinct eigenvalues of a self-adjoint operator are orthogonal.
	\end{thm}
	Recall that the notation $X=M_1\oplus\ldots\oplus M_k$ means that $X$ is the \textbf{\textit{direct sum}} of the $M_i$, which means that $X=M_1+\ldots+M_k$ and $M_i\cap\{M_1+\ldots \hat{M_i}+\ldots+M_k\}=\{0\}$, (every element in $X$ is expressed as a unique sum of elements in $M_i$). If $M_i\perp M_j$ for all $i\neq j$, we say this is an \textbf{\textit{orthogonal direct sum decomoposition of $X$}}, and the \textbf{\textit{orthogonal projection to $M_j$}} is just taking the corresponding component of a given element in its decomposition.
	\begin{thm}[Spectral decomposition theorem for normal transformations]
		To every normal transformation $A$ on a complex finite-dimensional inner product space there correspond scalar $\lambda_1,\ldots,\lambda_k$, the distinct eigenvalues of $A$, and orthogonal projections $E_1,\ldots,E_k$ with $k\leq \dim X$, such that
		\begin{enumerate}
			\item $E_i$ is the orthogonal projection on $\operatorname{Null}(A-\lambda_i)$ for $i=1,\ldots,k$.
			\item $E_i\neq0$ and $E_iE_j=0$ for $i,j=1,\ldots,k$.
			\item $\sum_{j=1}^kE_j=1$.
			\item $\sum_{j=1}^k\lambda_jE_j=A$.
		\end{enumerate}
	\end{thm}
	If $A$ was self-adjoint, we could weaken the hypotheses to a real inner product space.

	\subsection{Unitary and orthogonal transformations}
	Let $X$ be a finite-dimensional inner product space, and $U:X\to X$ a linear transformation with $U^*U=1$. We say $U$ is \textbf{\textit{unitary}} if $X$ is complex and \textbf{\textit{orthogonal}} if $X$ is real. The condition $U^*U=1$ implies that $UU^*=1$.
	
	\begin{thm}
		Let $X$ be a finite-dimensional inner product space, and $U:X\to X$ a linear transformation. The following statements are equivalent:
		\begin{enumerate}
			\item $U^*U=1$.
			\item $\langle Ux,Uy\rangle=\langle x,y\rangle$.
			\item $\Vert Ux\Vert=\Vert x\Vert$ for all $x\in X$.
		\end{enumerate}
	\end{thm}
	\begin{thm}
		If $U$ is a unitary transformation on the finite-dimensional inner product space $X$, then each of the eigenvalues of $U$ must have an absolute value equal to 1.
	\end{thm}
	To summarize:
	\begin{thm}
		Let $A$ be a normal transformation on a complex finite-dimensional inner product space. Then
		\begin{enumerate}
			\item $A$ is self-adjoint is and only if each eigenvalue of $A$ is real.
			\item $A$ is unitary if and only if each eigenvalue of $A$ has absolute value equal to 1.
		\end{enumerate}
	\end{thm}

\section{Normed spaces}
\begin{enumerate}
	\item Let $X$ be a real or complex vector space. A \textbf{\textit{norm}} on $X$ is a function $\Vert \cdot\Vert:X\to\R$ such that
\begin{enumerate}
	\item $\Vert x\Vert\geq0$ and $\Vert x\Vert=0$ if and only if $x=0$.
	\item $\Vert\lambda x\Vert=|\lambda|\Vert x\Vert$ for all $x\in X$ and $\lambda\in\R$.
	\item \textbf{(Triangle inequality.)} $\Vert x+y\Vert\leq\Vert x\Vert+\Vert y\Vert$ for all $x,y\in X$.
\end{enumerate}

\end{enumerate}
%\section{Banach spaces}

\clearpage
\section{Exercises}
\begin{exer}
	Let $A:(C[-1,1],\Vert\cdot\Vert_\infty)\to\R$ be defined by
	\[Ax=x(0)\]
	Show $A$ is linear, bounded and find its norm.
\end{exer}
\begin{proof}[Solution]\leavevmode
	\begin{enumerate}
		\item $A(x+\lambda y)=(x+\lambda y)(0)=x(0)+\lambda y(0)=Ax+\lambda Ay$.
		\item $|Ax|=|x(0)|\leq\Vert x\Vert_\infty$, so 1 is a bound.
		\item The bound is attained with $\Vert 1\Vert_\infty=1$, so $\Vert A\Vert$ cannot be lower than 1.
	\end{enumerate}
\end{proof}
\begin{exer}
	Let $A:(C[0,1],\Vert\cdot\Vert_\infty)\to\R$ be defined by
	\[Ax=\int_a^bx(t)\varphi(t)dt\]
	where $\varphi\in C[a,b]$ is a fixed function. Show that $\Vert A\Vert=\int_a^b|\varphi(t)|dt=\Vert\varphi(t)\Vert_1$.
\end{exer}
\begin{proof}[Solution] See \href{https://math.stackexchange.com/questions/338758/norm-of-the-linear-functional}{here}.
	First we show $A$ is bounded:
	\begin{align*}
		|Ax|&=\left|\int_a^bx(t)\varphi(t)dt\right|\\
		&\leq\int_a^b|x(t)||\varphi(t)|dt\\
		&\leq\Vert x\Vert_\infty\int_a^b|\varphi(t)|dt\\
		&=\Vert x\Vert_\infty\Vert\varphi(t)\Vert_1.
	\end{align*}

Which proves that $\Vert A\Vert\leq\Vert\varphi\Vert_1$. To show the reverse inequality, define the sequence
\[x_n(t):=\frac{\varphi(t)}{|\varphi(t)|+\frac{1}{n}}\]
{\color{orange}so that}
\[\Vert x_n\Vert_\infty=\frac{\Vert\varphi\Vert_\infty}{\Vert\varphi\Vert_\infty+\frac{1}{n}}\longrightarrow1\]
And also
\[Ax_n=\int_a^b\frac{\varphi(t)^2}{|\varphi(t)|+\frac{1}{n}}dt \longrightarrow \int_a^b|\varphi(t)|dt\]
{\color{orange}since}

And since $Ax_n=|Ax_n|\leq\Vert x_n\Vert_\infty\Vert A\Vert$, we have
\[\Vert A\Vert\geq\frac{Ax_n}{\Vert x_n\Vert_\infty}\longrightarrow\frac{\int_a^b|\varphi(t)|dt}{1}=\Vert\varphi\Vert_1,\]
so $\Vert A\Vert\geq\Vert\varphi\Vert_1$ and we are finished.

\end{proof}

\begin{exer}
	Sejam $(C([0,1]),\Vert\cdot\Vert_\infty)$ um espaço vetorial normado com $\Vert f\Vert_\infty=\max_{x\in[0,1]}|f(x)|$ e $T:(C([0,1])\to (C([0,1])$ dado por
	\[(Tf)(x)=x\int_0^xf(y)dy\]
	\begin{enumerate}
		\item Mostre que $T$ é linear, limitado e calcule $\Vert T\Vert$.
		\item Mostre que $T^{-1}:\mathcal{R}(T)\to C([0,1])$ existe mais não é limitado.
	\end{enumerate}
\end{exer}
\begin{proof}[Solução]\leavevmode
	\begin{enumerate}
		\item $T$ é linear, pois $T(f+\lambda g)=x\int_0^1(f(y)+\lambda g(y))dy=x\int_0^1f(y)dy+\lambda x\int_0^1g(y)dy$.
	
	$T$ é limitado, pois
	\begin{align*}
		Tf(x)&=x\int_0^1f(y)dy\leq x\int_0^x\Vert f\Vert_\infty dy= x\left((x-0)\Vert f\Vert_\infty\right)=\Vert f\Vert_\infty x^2\\
		\implies
		\Vert Tf\Vert_\infty&\leq \Vert f\Vert_\infty \Vert x^2\Vert_\infty=\Vert f\Vert_\infty
	\end{align*}
	Assim que $1$ é uma cota. Para ver que de fato $\Vert T\Vert=1$, basta considerar a função constante $f\equiv1$, caso em que a cota é alcançada: $\Vert Tf\Vert_\infty=\Vert x^2\Vert_\infty=1=\Vert f\Vert_\infty$.
	
	\item 
	\end{enumerate}
\end{proof}

%	\printbibliography
\end{document}